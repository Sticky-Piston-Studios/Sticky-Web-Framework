{
  "Components":
  [
    {
      "Name": "swp-database",
      "Type": "Database",
      "Create": true,
      "ContainerConfig":
      {
        "DockerfilePath": "./components/database/Dockerfile",
        "DomainSubPath": "/sticky-web-platform/database",
        "ContainerNetworkName": "swp-net",
        "ContainerAddress": [["http://10.1.0.121", "4001", "27017"]],
        "VolumeMappings": [["./volumes", "./data/db"]]
      },
      "DatabaseConnectionString": "mongodb://root:root@swp-database:27017",
      "Databases": [
        {
          "Name": "Main",
          "Collections": [
            {
              "Name": "Companies",
              "InitialData": "./database/InitialData/Companies.js",
              "Models": [
                {
                  "Name": "Company",
                  "Fields": [
                    {
                      "Name": "Id",
                      "Type": "Id"
                    },
                    {
                      "Name": "Name",
                      "Type": "String"
                    },
                    {
                      "Name": "RestaurantIds",
                      "Type": "List<Id>"
                    },
                    {
                      "Name": "Value",
                      "Type": "Int"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "Name": "swp-backend",
      "Type": "Backend",
      "Create": true,
      "ContainerConfig":
      {
        "DockerfilePath": "./components/backend/Dockerfile",
        "DomainSubPath": "/sticky-web-platform/backend",
        "ContainerNetworkName": "swp-net",
        "ContainerAddress": [["http://10.1.0.122", "4002", "4002"]],
        "VolumeMappings": null
      },
      "EndpointGroups": [
        {
          "Name": "Companies",
          "Path": "/api/companies",
          "Endpoints": [
            {
              "Name": "GetCompany",
              "Method": "GET",
              "Subroute": "id",
              "RqBodyName": "GetCompany",
              "Action": {
                "Type": "Default",
                "DatabaseName": "Main",
                "DatabaseCollectionName": "Companies"
              }
            },
            {
              "Name": "GetCompanies",
              "Method": "GET",
              "BodyName": "GetCompany",
              "Action": {
                "Type": "Default",
                "DatabaseName": "Main",
                "DatabaseCollectionName": "Companies"
              }
            },
            {
              "Name": "AddCompany",
              "Method": "POST",
              "BodyName": "AddCompany",
              "Action": {
                "Type": "Default",
                "DatabaseName": "Main",
                "DatabaseCollectionName": "Companies"
              }
            },
            {
              "Name": "DeleteCompany",
              "Method": "DELETE",
              "Subroute": "id",
              "Action": {
                "Type": "Default",
                "DatabaseName": "Main",
                "DatabaseCollectionName": "Companies"
              }
            }
          ]
        }
      ],
      "EndpointBodies": [
        {
          "Name": "GetCompany",
          "Fields": [
            {
              "Name": "Name",
              "Type": "String"
            },
            {
              "Name": "RestaurantIds",
              "Type": "List<Id>"
            },
            {
              "Name": "Value",
              "Type": "Int"
            },
            {
              "Name": "EmployeeCount",
              "Type": "Int"
            }
          ]
        },
        {
          "Name": "AddCompany",
          "Fields": [
            {
              "Name": "Name",
              "Type": "String"
            },
            {
              "Name": "EmployeeCount",
              "Type": "Int"
            }
          ]
        }
      ]
    },
    {
      "Name": "swp-frontend",
      "Type": "Frontend",
      "Create": true,
      "ContainerConfig":
      {
        "DockerfilePath": "./components/frontend/Dockerfile",
        "DomainSubPath": "/sticky-web-platform/backend",
        "ContainerNetworkName": "swp-net",
        "ContainerAddress": [["http://10.1.0.123", "4003", "4003"]],
        "VolumeMappings": null
      }
    },
    {
      "Name": "swp-web-server",
      "Type": "WebServer",
      "Create": true,
      "ContainerConfig":
      {
        "DockerfilePath": "./components/web-server/Dockerfile",
        "DomainSubPath": "/sticky-web-platform/web-server",
        "ContainerNetworkName": "swp-net",
        "ContainerAddress": [
          ["http://10.1.0.124", "80", "80"], 
          ["http://10.1.0.124", "443", "443"] 
        ],
        "VolumeMappings": null
      },
      "ConfigExtensionFilePath": "./component/web_server/nginx_config_extension.conf"
    }
  ],
  "ContainerNetworkNames": ["swp-net"]
}